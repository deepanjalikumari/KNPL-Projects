<mvc:View controllerName="com.knpl.pragati.SchemeOffers.controller.DetailPage" height="100%" xmlns:mvc="sap.ui.core.mvc" xmlns:layout="sap.ui.layout" xmlns="sap.m" xmlns:f="sap.f" xmlns:form="sap.ui.layout.form" xmlns:core="sap.ui.core">
    <f:DynamicPage busyIndicatorDelay="0" headerExpanded="true" stickySubheaderProvider="idIconTabBar" showFooter="true" class="sapUiNoContentPadding" >
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <Title text="{Title}"/>
                </f:heading>
                <f:breadcrumbs>
                    <Breadcrumbs currentLocationText="{i18n>currentDetailPageBreadcrumbText}">
                        <Link press="onPressBreadcrumbLink" text="{i18n>homeBreadcrumbText}"/>
                    </Breadcrumbs>
                </f:breadcrumbs>
            </f:DynamicPageTitle>
        </f:title>
        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <layout:HorizontalLayout allowWrapping="true">
                    <layout:VerticalLayout class="sapUiLargeMarginEnd">
                        <Avatar id="idOfferImg" displaySize="L" displayShape="Square"/>
                    </layout:VerticalLayout>
                    <layout:VerticalLayout class="sapUiLargeMarginEnd">
                        <layout:HorizontalLayout class="sapUiTinyMarginBottom">
                            <Label class="sapUiTinyMarginEnd" text="{i18n>headerCreationDate}"/>
                            <Text text="{path:'CreatedAt',formatter:'.formatter.fmtDate2'}"/>
                        </layout:HorizontalLayout>
                        <layout:HorizontalLayout class="sapUiTinyMarginTop sapUiTinyMarginBottom">
                            <Label class="sapUiTinyMarginEnd" text="{i18n>headerCreatedBy}"/>
                            <Text text="{CreatedByDetails/Name}"/>
                        </layout:HorizontalLayout>
                        <!-- <layout:HorizontalLayout class="sapUiTinyMarginTop sapUiTinyMarginBottom">
                            <Label class="sapUiTinyMarginEnd" text="{i18n>headerOfferPoint}"/>
                            <Text text=""/>
                        </layout:HorizontalLayout> -->
                    </layout:VerticalLayout>
                    <layout:VerticalLayout class="sapUiLargeMarginEnd">
                        <layout:HorizontalLayout class="sapUiTinyMarginBottom">
                            <Label class="sapUiTinyMarginEnd" text="{i18n>headerStartDate}"/>
                            <Text text="{path:'StartDate',formatter:'.formatter.fmtDate2'}"/>
                        </layout:HorizontalLayout>
                        <layout:HorizontalLayout class="sapUiTinyMarginTop sapUiTinyMarginBottom">
                            <Label class="sapUiTinyMarginEnd" text="{i18n>headerEndDate}"/>
                            <Text text="{path:'EndDate',formatter:'.formatter.fmtDate2'}"/>
                        </layout:HorizontalLayout>
                    </layout:VerticalLayout>
                    <layout:VerticalLayout>
                        <layout:VerticalLayout class="sapUiTinyMarginBottom">
                            <Label class="sapUiTinyMarginEnd" text="{i18n>headerStatus}"/>
                            <ObjectStatus class="statusTextSizeLarge sapUiTinyMarginTop" text="{path:'OfferStatus',formatter:'.formatter.fmtLowerCase'}"  state="{path:'OfferStatus',formatter:'.formatter.fmtOfferStateColor'}" />
                        </layout:VerticalLayout>
                    </layout:VerticalLayout>
                </layout:HorizontalLayout>
            </f:DynamicPageHeader>
        </f:header>

        <f:content>
            <IconTabBar select="onIcnTbarChange" selectedKey="{oModelControl3>/selectedKey}" id="idIconTabBar" expandable="false" expanded="{device>/isNoPhone}">
                <items>
                    <IconTabFilter text="{i18n>offerDetailsTabFilter}" key="0">
                        <VBox id="idVbProfile" visible="{= ${oModelControl3>/mode}=== 'display'}">
                        
                        </VBox>
                        	<mvc:XMLView
							id="wizardViewBranching"
							async="true"
                            visible="{= ${oModelControl3>/mode}=== 'edit'}"
							viewName="com.knpl.pragati.SchemeOffers.view.fragment.WizardOfferDetails" />
                    </IconTabFilter>
                    <IconTabFilter text="{i18n>EligiblePainter}" key="1">
                        <core:Fragment fragmentName="com.knpl.pragati.SchemeOffers.view.fragment.PainterTable1" type="XML"/>
                    </IconTabFilter>
                       <IconTabFilter text="{i18n>QualifiedPainter}" key="2">
                        <core:Fragment fragmentName="com.knpl.pragati.SchemeOffers.view.fragment.PainterTable2" type="XML"/>
                    </IconTabFilter>
                </items>
            </IconTabBar>
        </f:content>
        <f:footer>
            <OverflowToolbar >
             <ToolbarSpacer/>
           
              <Button id="edit" text="Edit" type="Emphasized"  enabled="true" press="handleEditPress"/>
                <Button id="cancel" text="Cancel" type="Ghost" visible="false" press="handleCancelPress"/>
                <Button id="save" text="Save" type="Emphasized" visible="false" press="handleSavePress"/>
                <Button press="onActivate"  text="{i18n>Activate}" type="Accept" visible="{= ${oModelControl3>/mode}=== 'display' &amp;&amp; ${IsActive}=== false}" />
                <Button press="onDeactivate"  text="{i18n>Deactivate}" type="Reject"  visible="{= ${oModelControl3>/mode}=== 'display' &amp;&amp; ${IsActive}=== true}" />
             
            </OverflowToolbar>
           
        </f:footer>
    </f:DynamicPage>
</mvc:View>
