<core:FragmentDefinition xmlns="sap.m"
	xmlns:u="sap.ui.unified"
     xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns:core="sap.ui.core">
    <Table id="categoryTable"  growing="true" growingThreshold="10" items="{path:'oModelControl>/TableData1'}" growingScrollToLoad="false" width="auto" noDataText="{i18n>tableNoDataText}">
                <headerToolbar>
                    <Toolbar>
                            <ToolbarSpacer ></ToolbarSpacer>
                           <Button icon="sap-icon://add" text="{i18n>Add}" tooltip="{i18n>Add}" type="Emphasized" press="onPressAddNewImage('add')"/>
                    </Toolbar>
                </headerToolbar>
                <columns>
                    <Column >
                        <Text text="{i18n>Image}"/>
                    </Column>
                     <Column >
                        <Text text="{i18n>CreatedAt}"/>
                    </Column>
                      <Column >
                        <Text text="{i18n>Remark}"/>
                    </Column>
                    <Column>
                        <Text text="{i18n>Status}"/>
                    </Column>
                   
                    <Column>
                        <Text text="{i18n>Action}"/>
                    </Column>
                </columns>

                <items>
                    <ColumnListItem>
                        <cells>
                            <VBox >
                                	<u:FileUploader app:type="fileUploader" typeMissmatch="onFilteMisMatch" fileType="jpg,jpeg,png" placeholder="{i18n>Message5}" tooltip="{i18n>Message5}"  visible="{= ${oModelControl>editable} === true }"/>
                                    <Link text="{i18n>ViewImage}" press="onViewImage"  visible="{= ${oModelControl>editable} !== true }"/>
                            </VBox>
                              <Text text="{ path:'oModelControl>CreatedAt',type:'sap.ui.model.type.Date',formatOptions:{pattern:'dd/MM/YYYY h:mm a'} }" />
                              <Text text="{ path:'oModelControl>Remark',formatter:'.formatter.fmtCheckNull'}" />
                           
                                	<ObjectStatus text="{path:'oModelControl>ApprovalStatus',formatter:'.formatter.fmtLowerCase'}" state="{path:'oModelControl>ApprovalStatus',formatter:'.formatter.fmtCheckStatusColor'}" />
                          

                             <HBox >
                                <Button visible="{= ${oModelControl>editable} !== true }" icon="sap-icon://edit" tooltip="{i18n>Edit}" type="Transparent" press="onPressAddNewImage"></Button>
                                <Button visible="{= ${oModelControl>editable} === true }" text="{i18n>Save}" tooltip="{i18n>Save}" type="Transparent" press="onSaveCategoryImage"></Button>
                                <Button   icon="sap-icon://delete" type="Transparent" tooltip="{i18n>Delete}" press="onDelteportFolioImage"></Button>
                                <Button visible="{= !isNaN(${oModelControl>Id}) &amp;&amp; ${oModelControl>editable} === true   }" icon="sap-icon://sys-cancel" type="Transparent" tooltip="{i18n>Delete}" press="onCancelImagesTable"></Button>
                                <!-- Approval and Reject Button -->
                                  <Button visible="{ parts:['oModelControl>editable','oModelControl>ApprovalStatus'],formatter:'.formatter.fmtBtnApproveImage'  }"  type="Accept" text="{i18n>Approve}" tooltip="{i18n>Approve}" press="onApproveImage" class="sapUiTinyMarginEnd"></Button>
                                  <Button visible="{ parts:['oModelControl>editable','oModelControl>ApprovalStatus'],formatter:'.formatter.fmtBtnRejectImage'  }" type="Reject" text="{i18n>Reject}" tooltip="{i18n>Reject}" press="onRejectImage"></Button>
                            </HBox>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
  </core:FragmentDefinition>
