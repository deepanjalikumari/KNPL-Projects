<mvc:View controllerName="com.knpl.pragati.Tools.controller.ActionPage" height="100%"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:layout="sap.ui.layout"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:u="sap.ui.unified"
    xmlns:form="sap.ui.layout.form"
	xmlns:core="sap.ui.core">
    <f:DynamicPage id="idActionPage" class="actionPage" showFooter="true" busy="{ActionViewModel>/busy}">
        <f:title>
            <f:DynamicPageTitle>
                <f:breadcrumbs>
                    <Breadcrumbs currentLocationText="{=${ActionViewModel>/action} === 'add' ? ${i18n>addActionText} : ${i18n>editActionText}} {i18n>currentBreadcrumbText}">
                        <Link press="onPressBreadcrumbLink" text="{i18n>homeBreadcrumbText}" />
                    </Breadcrumbs>
                </f:breadcrumbs>
            </f:DynamicPageTitle>
        </f:title>

        <f:content>
            <VBox class="sapUiSmallMargin">
                <form:Form id="idDetailForm" editable="false">
                    <form:title>
                        <core:Title text="{=${ActionViewModel>/action} === 'add' ? ${i18n>addActionText} : ${i18n>editActionText}} {i18n>actionFormTitle}" />
                    </form:title>
                    <form:layout>
                        <form:ResponsiveGridLayout
                            labelSpanXL="3"
                            labelSpanL="3"
                            labelSpanM="3"
                            labelSpanS="12"
                            adjustLabelSpan="false"
                            emptySpanXL="4"
                            emptySpanL="4"
                            emptySpanM="4"
                            emptySpanS="0"
                            columnsXL="1"
                            columnsL="1"
                            columnsM="1"
                            singleContainerFullSize="false" />
                    </form:layout>
                    <form:formContainers>
                        <form:FormContainer title="">
                            <form:formElements>
                                <form:FormElement>
                                    <form:label>
                                        <Label text="{i18n>formTitleLabel}" required="true" />
                                    </form:label>
                                    <form:fields>
                                        <Input id="idTitleInput" value="{ActionViewModel>/Title}" placeholder="{i18n>formTitlePlaceholder}" change="onChangeValue" />
                                    </form:fields>
                                </form:FormElement>
                                <form:FormElement>
                                    <form:label>
                                        <Label text="{i18n>formUrlLabel}" required="true" />
                                    </form:label>
                                    <form:fields>
                                        <Input id="idUrlInput" value="{ActionViewModel>/Url}" placeholder="{i18n>formUrlPlaceholder}" change="onChangeValue" />
                                    </form:fields>
                                </form:FormElement>
                                <form:FormElement>
                                    <form:label>
                                        <Label text="{i18n>formDescriptionLabel}" />
                                    </form:label>
                                    <form:fields>
                                        <TextArea id="idDescriptionInput" value="{ActionViewModel>/Description}" placeholder="{i18n>formDescriptionPlaceholder}" />
                                    </form:fields>
                                </form:FormElement>
                                <form:FormElement>
                                    <form:label>
                                        <Label text="{i18n>formToolImageLabel}" />
                                    </form:label>
                                    <form:fields>
                                        <HBox class="fileUploaderContainer">
                                            <u:FileUploader
                                                id="idFormToolImgUploader"
                                                name="formToolImgUploader"
                                                width="100%"
                                                tooltip="{i18n>fileUploaderTooltip}"
                                                change="onChangeFile"
                                                typeMissmatch="handleTypeMissmatch"
                                                fileType="png,jpg,jpeg"
                                                useMultipart="false"
                                                sendXHR="true"
                                                uploadComplete="handleUploadComplete" />
                                            <Image id="idPreviewImage" width="100px" height="100px" />
                                        </HBox>
                                    </form:fields>
                                </form:FormElement>
                            </form:formElements>
                        </form:FormContainer>
                    </form:formContainers>
                </form:Form>
            </VBox>
        </f:content>
        <f:footer>
            <OverflowToolbar>
				<ToolbarSpacer/>
                <Button text="{i18n>cancelBtnText}" type="Transparent" press="onPressCancel"/>
				<Button text="{=${ActionViewModel>/action} === 'add' ? ${i18n>saveBtnText} : ${i18n>updateBtnText}}" type="Emphasized" press="onPressSaveOrUpdate"/>
            </OverflowToolbar>
        </f:footer>
    </f:DynamicPage>
</mvc:View>
