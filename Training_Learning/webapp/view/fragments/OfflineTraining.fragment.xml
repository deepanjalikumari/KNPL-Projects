<core:FragmentDefinition xmlns:upload="sap.m.upload" xmlns:u="sap.ui.unified" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:smartForm="sap.ui.comp.smartform" xmlns:smartField="sap.ui.comp.smartfield" xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core">
    <VBox id="idVbxOff" width="100%">
        <f:SimpleForm id="OfflineTrainingDetails" editable="true" layout="ResponsiveGridLayout" title="{oModelView>/AddEditTrainingDetails}" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="2" columnsL="2" columnsM="2" singleContainerFullSize="false">
            <f:content>
                <core:Title text="{i18n>TrainingDetails}"/>
                <Label text="{i18n>colTrainingType}" required="true"/>
                <ComboBox items="{path:'/MasterTrainingTypeSet', filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }" selectedKey="{oModelView>/TrainingDetails/TrainingTypeId}" editable="false">
                    <items>
                        <core:Item text="{TrainingType}" key="{Id}"/>
                    </items>
                </ComboBox>
                <Label text="{i18n>colTitle}" required="true"/>
                <Input maxLength="100" value="{oModelView>/TrainingDetails/Title}"/>

                <Label text="{i18n>colTrainingDescription}"/>
                <TextArea value="{oModelView>/TrainingDetails/Description}" rows="5" maxLength="1000"/>

                <Label text="{i18n>colStartDateTime}" required="true"/>
                <DateTimePicker valueStateText="Enter a valid date and time" dateValue="{oModelView>/TrainingDetails/StartDate}" valueFormat="yyyy-MM-dd HH:mm:ss" displayFormat="dd MMM yyyy hh:mm a" required="true"/>

                <Label text="{i18n>colEndDateTime}" required="true"/>
                <DateTimePicker valueStateText="Enter a valid date and time" dateValue="{oModelView>/TrainingDetails/EndDate}" valueFormat="yyyy-MM-dd HH:mm:ss" displayFormat="dd MMM yyyy hh:mm a" required="true"/>

                <Label text="{i18n>colRewardPoints}" required="true"/>
                <Input value="{oModelView>/TrainingDetails/RewardPoints}"/>

                <core:Title text="{i18n>TargetGroup}"/>

                <Label text="{i18n>colLink}"/>
                <Input maxLength="300" value="{oModelView>/TrainingDetails/Url}" type="Url"/>

                <Label text="{i18n>colState}"/>
                <ComboBox items="{path:'/MasterStateSet', sorter:{path:'State'}, filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }" selectionChange="onStateChange" selectedKey="{oModelView>/TrainingDetails/StateId}">
                    <items>
                        <core:Item text="{State}" key="{Id}"/>
                    </items>
                </ComboBox>
                
                <Label text="{i18n>colCity}"/>
                <ComboBox id="cmbCity" editable="{= ${oModelView>/TrainingDetails/StateId} !== '' }" items="{path:'/MasterCitySet', sorter:{path:'City'}, filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }" selectedKey="{oModelView>/TrainingDetails/CityId}">
                    <items>
                        <core:Item text="{City}" key="{Id}"/>
                    </items>
                </ComboBox>
                
                <Label text="{i18n>colImage}"/>
                    <u:FileUploader
                        id="idFormTrainingImgUploaderOffline"
                        name="formTrainingImgUploader"
                        width="100%"
                        tooltip="{i18n>fileUploaderTrainingtip}"
                        change="onChangeFile"
                        typeMissmatch="handleTypeMissmatch"
                        fileType="png,jpg,jpeg"
                        useMultipart="false"
                        sendXHR="true"
                        uploadComplete="handleUploadComplete" />
                    <Image id="idPreviewImageOffline" width="100px" height="100px" />

            </f:content>
        </f:SimpleForm>
    </VBox>
</core:FragmentDefinition>