<core:FragmentDefinition xmlns:upload="sap.m.upload" xmlns:u="sap.ui.unified" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:smartForm="sap.ui.comp.smartform" xmlns:smartField="sap.ui.comp.smartfield" xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core">
    <VBox id="idVbxE" width="100%">
        <f:SimpleForm id="EditTrainingDetails" editable="true" layout="ResponsiveGridLayout" title="{i18n>EditTrainingDetails}" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="2" columnsL="2" columnsM="2" singleContainerFullSize="false">
            <f:content>
                <core:Title text="{i18n>TrainingDetails}"/>
                <Label text="{i18n>colTrainingType}" required="true"/>
                <ComboBox items="{path:'/MasterTrainingTypeSet', filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }" selectedKey="{oModelView>/TrainingDetails/TrainingTypeId}">
                    <items>
                        <core:Item text="{TrainingType}" key="{Id}"/>
                    </items>
                </ComboBox>
                <Label text="{i18n>colTitle}" required="true"/>
                <Input maxLength="100" value="{oModelView>/TrainingDetails/Title}"/>

                <Label text="{i18n>colTrainingDescription}"/>
                <TextArea value="{oModelView>/TrainingDetails/Description}" rows="5" showExceededText="true" maxLength="1000"/>

                <Label text="{i18n>colStartDate}" required="true"/>
                <DatePicker valueStateText="Enter a valid date, less than or equal to today." value="{oModelView>/TrainingDetails/StartDate}" valueFormat="dd MMM yyyy" displayFormat="dd MMM yyyy" required="true"/>
                <!-- <DateTimePicker valueStateText="Enter a valid date and time" value="{oModelView>/TrainingDetails/StartDate}" valueFormat="yyyy-MM-dd HH:mm:ss" displayFormat="dd MMM yyyy hh:mm a" required="true"/> -->

                <Label required="true" text="{i18n>colStartTime}"/>
                <TimePicker valueFormat="HH:mm" displayFormat="hh:mm a" value="{oModelView>/TrainingDetails/StartTime}"/>

                <Label required="true" text="{i18n>colEndTime}"/>
                <TimePicker valueFormat="HH:mm" displayFormat="hh:mm a" value="{oModelView>/TrainingDetails/EndTime}"/>

                <core:Title text="{i18n>TargetGroup}"/>

                <Label text="{i18n>colRewardPoints}" required="true"/>
                <Input value="{oModelView>/TrainingDetails/RewardPoints}"/>

                <Label text="{i18n>colLink}"/>
                <Input maxLength="300" value="{oModelView>/TrainingDetails/Url}" type="Url"/>
                
                <Label text="{i18n>colDepot}"/>
                <ComboBox items="{path:'/MasterDepotSet', filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }" selectedKey="{oModelView>/TrainingDetails/DepotTypeId}">
                    <items>
                        <core:Item text="{Depot}" key="{Id}"/>
                    </items>
                </ComboBox>
                <Label text="{i18n>colDivision}"/>
                <ComboBox items="{path:'/MasterDivisionSet', filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }" selectedKey="{oModelView>/TrainingDetails/DivisionTypeId}">
                    <items>
                        <core:Item text="{Division}" key="{Id}"/>
                    </items>
                </ComboBox>
                <Label text="{i18n>colPainterType}"/>
                <ComboBox items="{path:'/MasterPainterTypeSet', filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }" selectedKey="{oModelView>/TrainingDetails/PainterType}">
                    <items>
                        <core:Item text="{PainterType}" key="{Id}"/>
                    </items>
                </ComboBox>
                <Label text="{i18n>colPainterArcheType}"/>
                <ComboBox items="{path:'/MasterArcheTypeSet', filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }" selectedKey="{oModelView>/TrainingDetails/PainterArcheId}">
                    <items>
                        <core:Item text="{ArcheType}" key="{Id}"/>
                    </items>
                </ComboBox>

                <Label text="{i18n>colTrainingDescription}"/>
                <TextArea value="{oModelView>/TrainingDetails/Description}" rows="5" showExceededText="true" maxLength="600"/>

                <Label text="{i18n>colImage}"/>
                <!-- <HBox class="fileUploaderContainer"> -->
                    <u:FileUploader
                        id="idFormTrainingImgUploaderEdit"
                        name="formTrainingImgUploader"
                        width="100%"
                        tooltip="{i18n>fileUploaderTrainingtip}"
                        change="onChangeFile"
                        typeMissmatch="handleTypeMissmatch"
                        fileType="png,jpg,jpeg"
                        useMultipart="false"
                        sendXHR="true"
                        uploadComplete="handleUploadComplete" />
                    <Image id="idPreviewImageEdit" width="100px" height="100px" />
                <!-- </HBox> -->

                <core:Title text="{i18n>Questionnaire}"/>
                <List id="List" mode="Delete" delete="onDeleteQuestionnaire" enableBusyIndicator="true" headerText="{i18n>Questionnaire}" growing="true"
					items="{path: 'oModelView>/TrainingDetails/TrainingQuestionnaire' , filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }">
					<headerToolbar>
						<Toolbar>
							<ToolbarSpacer/>
				    		<Button press="onAddQuestionnaire" text="{i18n>btnAddQuestionnaire}"/>
						</Toolbar>
					</headerToolbar>
                    <CustomListItem type="Active">
                        <VBox renderType="Bare">
                            <HBox>
                                <Text text="{oModelView>Question}" class="sapUiSmallMarginBeginEnd"/>
                                <Button icon="sap-icon://edit" press="onEditQuestionnaire" type="Transparent" tooltip="{i18n>Edit}"/>
                            </HBox>
                            <HBox items="{oModelView>TrainingQuestionnaireOptions}">
                                <ObjectStatus text="{oModelView>Option}" state="{= ${oModelView>IsCorrect} ? 'Success' : 'None' }" class="sapUiSmallMarginBeginEnd"/>
                            </HBox>
                        </VBox>
                    </CustomListItem>
				</List>
            </f:content>
        </f:SimpleForm>
    </VBox>
</core:FragmentDefinition>