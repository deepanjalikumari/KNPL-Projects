<core:FragmentDefinition xmlns:u="sap.ui.unified" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:smartForm="sap.ui.comp.smartform" xmlns:smartField="sap.ui.comp.smartfield" xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core">
    <VBox id="idVbxEdit" width="100%">
        <f:SimpleForm id="EditTrainingDetails" editable="true" layout="ResponsiveGridLayout" title="{oModelView>/AddEditTrainingDetails}" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="2" columnsL="2" columnsM="2" singleContainerFullSize="false">
            <f:content>
                <core:Title text="{i18n>TrainingDetails}"/>
                <Label text="{i18n>colTrainingMode}" required="true"/>
                <ComboBox items="{path:'/MasterTrainingTypeSet', filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }" selectedKey="{oModelView>/TrainingDetails/TrainingTypeId}" editable="false">
                    <items>
                        <core:Item text="{TrainingType}" key="{Id}"/>
                    </items>
                </ComboBox>
                <Label text="{i18n>colTrainingType}" required="true"/>
                <ComboBox items="{path:'/MasterTrainingSubTypeSet', filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }" selectedKey="{oModelView>/TrainingDetails/TrainingSubTypeId}" editable="false">
                    <items>
                        <core:Item text="{TrainingSubType}" key="{Id}"/>
                    </items>
                </ComboBox>
                <Label text="{i18n>colTitle}" required="true"/>
                <Input maxLength="100" value="{oModelView>/TrainingDetails/Title}"/>

                <Label text="{i18n>colTrainingDescription}"/>
                <TextArea value="{oModelView>/TrainingDetails/Description}" rows="5" maxLength="1000"/>

                <Label text="{i18n>colLink}" required="{= ${oModelView>/TrainingDetails/TrainingTypeId} === '3'}"/>
                <Input maxLength="300" value="{oModelView>/TrainingDetails/Url}" type="Url"/>

                <Label text="{i18n>colStartDateTime}" required="true" visible="{= ${appView>/trainingType} !== 'VIDEO'}"/>
                <DateTimePicker width="35%" valueStateText="Enter a valid date and time" minDate="{oModelView>/currDate}" dateValue="{oModelView>/TrainingDetails/StartDate}" valueFormat="yyyy-MM-dd HH:mm:ss" displayFormat="dd MMM yyyy hh:mm a" required="true" visible="{= ${appView>/trainingType} !== 'VIDEO'}"/>

                <Label text="{i18n>colEndDateTime}" required="true" visible="{= ${appView>/trainingType} !== 'VIDEO'}"/>
                <DateTimePicker width="35%" valueStateText="Enter a valid date and time" minDate="{oModelView>/currDate}" dateValue="{oModelView>/TrainingDetails/EndDate}" valueFormat="yyyy-MM-dd HH:mm:ss" displayFormat="dd MMM yyyy hh:mm a" required="true" visible="{= ${appView>/trainingType} !== 'VIDEO'}"/>

                <Label required="true" text="{i18n>colDuration}" visible="{= ${appView>/trainingType} === 'VIDEO'}"/>
				<Input width="35%" value="{oModelView>/TrainingDetails/Duration}" maxLength="10" visible="{= ${appView>/trainingType} === 'VIDEO'}" type="Number"/>

                <Label text="{i18n>colRewardPoints}" required="true"/>
                <Input width="35%" value="{oModelView>/TrainingDetails/RewardPoints}" maxLength="10" type="Number" editable="false"/>

                <core:Title text="{= ${appView>/trainingType} === 'ONLINE' ? 'Target Group' : '' }"/>

                <Label text="{i18n>colZone}" visible="{= ${appView>/trainingType} === 'ONLINE'}"/>
                <MultiComboBox selectedKeys="{oModelView>/TrainingDetails/Zones}" visible="{= ${appView>/trainingType} === 'ONLINE'}" selectionChange="onMultyZoneChange" items="{ path : '/MasterZoneSet'}">
					<core:Item key="{Id}" text="{Id}"/>
				</MultiComboBox>

                <Label text="{i18n>colDivision}" visible="{= ${appView>/trainingType} === 'ONLINE'}"/>
                <MultiComboBox id="idDivision" selectedKeys="{oModelView>/TrainingDetails/Divisions}" visible="{= ${appView>/trainingType} === 'ONLINE'}" selectionChange="onMultyDivisionChange" items="{ path : '/MasterDivisionSet'}">
					<core:Item key="{Id}" text="{Id}"/>
				</MultiComboBox>

                <Label text="{i18n>colDepot}" visible="{= ${appView>/trainingType} === 'ONLINE'}"/>
                <MultiComboBox id="idDepot" selectedKeys="{oModelView>/TrainingDetails/Depots}" visible="{= ${appView>/trainingType} === 'ONLINE'}" selectionChange="onMultyDepotChange" items="{ path : '/MasterDepotSet'}">
					<core:Item key="{Id}" text="{Depot} ( {Id} )"/>
				</MultiComboBox>

                <Label text="{i18n>colPainterType}" visible="{= ${appView>/trainingType} === 'ONLINE'}"/>
                <ComboBox visible="{= ${appView>/trainingType} === 'ONLINE'}" items="{path:'/MasterPainterTypeSet', filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }" selectedKey="{oModelView>/TrainingDetails/PainterType}">
                    <items>
                        <core:Item text="{PainterType}" key="{Id}"/>
                    </items>
                </ComboBox>
                <Label text="{i18n>colPainterArcheType}" visible="{= ${appView>/trainingType} === 'ONLINE'}"/>
                <ComboBox visible="{= ${appView>/trainingType} === 'ONLINE'}" items="{path:'/MasterArcheTypeSet', filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }" selectedKey="{oModelView>/TrainingDetails/PainterArcheId}">
                    <items>
                        <core:Item text="{ArcheType}" key="{Id}"/>
                    </items>
                </ComboBox>

                <Label text="{i18n>colImage}"/>
                <Image width="5rem" class="sapUiTinyMargin" height="5rem" src="{ parts : [{path : 'oModelView>/__metadata'}, { path : 'oModelView>/ProfilePic' } ] , formatter : '.formatter.giveImage' }"/>
				<u:FileUploader maximumFileSize="2" fileAllowed="onUpload" tooltip="{i18n>fileUploaderTrainingtip}" style="Emphasized" buttonOnly="true"
			    buttonText="{i18n>fileUploaderTrainingtip}"/>

                <Label text="{i18n>colStatusAction}"/>
                <SegmentedButton
                    selectedKey="{oModelView>/TrainingDetails/Status}">
                    <items>
                        <SegmentedButtonItem text="{i18n>Activate}" key="1"/>
                        <SegmentedButtonItem text="{i18n>DeActivate}" key="0"/>
                    </items>
                </SegmentedButton>

            </f:content>
        </f:SimpleForm>
    </VBox>
</core:FragmentDefinition>