<mvc:View height="100%" controllerName="com.knpl.pragati.ContactPainter.controller.PainterList" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns:layout="sap.ui.layout" xmlns="sap.m" xmlns:f="sap.f" xmlns:fb="sap.ui.comp.filterbar" xmlns:vm="sap.ui.comp.variants" xmlns:smartFilterBar="sap.ui.comp.smartfilterbar">
    <f:DynamicPage id="dynamicPageId" headerExpanded="true">
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <vm:VariantManagement standardItemText="{i18n>appDescription}"></vm:VariantManagement>
                </f:heading>
            </f:DynamicPageTitle>
        </f:title>
        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <f:content>
                    <fb:FilterBar showRestoreButton="true" id="filterbar" reset="onResetFilterBar" search="onFilter" useToolbar="false" showRestoreOnFB="true">
                        <fb:filterGroupItems>
                            <fb:FilterGroupItem groupName="__$INTERNAL$" name="Name" label="Name" visibleInFilterBar="true" class="searchFieldLabelHidden">
                                <fb:control>
                                    <Input id="idNameInput" value="{oModelView>/filterBar/Name}" placeholder="Name" showSuggestion="true" showValueHelp="false" suggestionItems="{/PainterSet}">
                                        <suggestionItems>
                                            <core:Item text="{Name}"/>
                                        </suggestionItems>
                                    </Input>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem groupName="__$INTERNAL$" name="Email" label="Email" visibleInFilterBar="true" class="searchFieldLabelHidden">
                                <fb:control>
                                    <Input id="idEmailInput" value="{oModelView>/filterBar/Email}" placeholder="Email" showSuggestion="true" showValueHelp="false" suggestionItems="{/PainterSet}">
                                        <suggestionItems>
                                            <core:Item text="{Email}"/>
                                        </suggestionItems>
                                    </Input>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem groupName="__$INTERNAL$" name="Mobile" label="Mobile" visibleInFilterBar="true" class="searchFieldLabelHidden">
                                <fb:control>
                                    <Input id="idMobileInput" value="{oModelView>/filterBar/Mobile}" type="Number" placeholder="Mobile" showSuggestion="true" showValueHelp="false" suggestionItems="{/PainterSet}">
                                        <suggestionItems>
                                            <core:Item text="{Mobile}"/>
                                        </suggestionItems>
                                    </Input>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem groupName="__$INTERNAL$" name="Registration Status" label="Registration Status" visibleInFilterBar="true" class="searchFieldLabelHidden">
                                <fb:control>
                                    <Input id="idRegistrationStatus" value="{oModelView>/filterBar/RegistrationStatus}" placeholder="Registration Status" showSuggestion="true" showValueHelp="false" suggestionItems="{/PainterSet}">
                                        <suggestionItems>
                                            <core:Item text="{RegistrationStatus}"/>
                                        </suggestionItems>
                                    </Input>
                                </fb:control>
                            </fb:FilterGroupItem>
                        </fb:filterGroupItems>
                    </fb:FilterBar>
                </f:content>
            </f:DynamicPageHeader>


        </f:header>

        <f:content>
            <Table id="idPainterTable" width="auto" items="{path: '/PainterSet', filters:[{ path:'IsArchived', operator:'EQ', value1:false}],sorter: { path: 'UpdatedAt', descending: true} }" noDataText="{i18n>tableNoDataText}" growing="true" growingThreshold="25" growingScrollToLoad="false" busyIndicatorDelay="{oModelView>/tableBusyDelay}" updateFinished="onUpdateFinished">
                <headerToolbar>
                    <Toolbar>
                        <Title text="{oModelView>/pageTitle}"/>
                        <ToolbarSpacer/>
                        <Button icon="sap-icon://add" text="{i18n>AddPainter}" type="Transparent" press=".onPressAddPainter" tooltip="{i18n>AddPainter}"></Button>
                        <!-- <SearchField width="20%" id="searchField" suggest="onSuggest" suggestionItems="{path: '/PainterSet',sorter: { path: 'Name' } }" tooltip="{i18n>SearchPainters}" search="onSearch" placeholder="{i18n>SearchPainters}">
                                                                                <SuggestionItem text="{Name}" key="{Id}"/>
                                                                            </SearchField> -->
                        <Button
                        tooltip="Sort" icon="sap-icon://sort" press="handleSortButtonPressed"/>
                    <!-- <Button text="Add Dealer" type="Emphasized" icon="sap-icon://add-employee" iconFirst="true"/> -->
                    </Toolbar>
                </headerToolbar>

                <columns>
                    <Column>
                        <Text text="{i18n>Name}"/>
                    </Column>
                    <Column>
                        <Text text="{i18n>Email}"/>
                    </Column>
                    <Column>
                        <Text text="{i18n>Mobile}"/>
                    </Column>
                    <Column>
                        <Text text="{i18n>RegistrationStatus}"/>
                    </Column>
                    <Column width="10%">
                        <Text text="{i18n>Edit}"/>
                    </Column>
                    <Column width="10%">
                        <Text text="{i18n>Deactivate}"/>
                    </Column>
                </columns>

                <items>
                    <ColumnListItem press="onListItemPress">
                        <dependents>
                            <core:Fragment fragmentName="com.knpl.pragati.ContactPainter.view.ActionSheet" type="XML"/>
                        </dependents>
                        <cells>
                            <ObjectIdentifier title="{Name}" titleActive="false"/>
                            <Text text="{Id}"/>
                            <Text text="{Mobile}"/>
                            <Text text="{RegistrationStatus}"/>
                            <Button icon="sap-icon://edit" type="Transparent" press="onPressEditPainter" tooltip="Edit"></Button>
                            <Button icon="sap-icon://delete" type="Transparent" press="onDeactivate" tooltip="Deactivate"></Button>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </f:content>
    </f:DynamicPage>
</mvc:View>
