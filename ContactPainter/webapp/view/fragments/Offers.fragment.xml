<core:FragmentDefinition xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:smartForm="sap.ui.comp.smartform"
    xmlns:smartField="sap.ui.comp.smartfield"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core">
    <VBox width="100%">
        <Table id="idTblOffersNew2" growing="true" growingThreshold="15" width="auto"  noDataText="{i18n>tableNoDataText}" growingScrollToLoad="false" busyIndicatorDelay="{oModelView>/tableBusyDelay}">
            <headerToolbar>

            </headerToolbar>

            <columns>
            
                <Column>
                    <Text text="{i18n>OfferCode}" />
                </Column>
                <Column>
                    <Text text="{i18n>Title}" />
                </Column>
                <Column>
                    <Text text="{i18n>OfferType}" />
                </Column>
                <Column>
                    <Text text="{i18n>StartDate}" />
                </Column>
                <Column>
                    <Text text="{i18n>EndDate}" />
                </Column>
                <Column>
                    <Text text="{i18n>ProgressStatus}" />
                </Column>
                  <Column>
                    <Text text="{i18n>MultiplesAllowed}" />
                </Column>
                <Column>
                    <Text text="{i18n>RedemptionStatus}" />
                </Column>
                <Column>
                    <Text text="{i18n>Rewards}" />
                </Column>
            </columns>
            <dependents >
                <ColumnListItem id="idTblOffersNew2Template">
                    <cells>
                        
                        <Text text="{Offer/OfferCode}" />
                        <Text text="{Offer/Title}" />
                        <Text text="{Offer/OfferType/OfferType}" />
                        <Text text="{path:'Offer/StartDate',type:'sap.ui.model.type.Date',formatOptions:{pattern:'dd/MM/YYYY'}}" />
                        <Text text="{path:'Offer/EndDate',type:'sap.ui.model.type.Date',formatOptions:{pattern:'dd/MM/YYYY'}}" />
                        <Text text="{path:'ProgressStatus',formatter:'.formatter.fmtLowerCase2'}" />
                        <Text text="{RedemeptionIndex} / {RedemptionMax}" />
                        <HBox>
                            <items>
                                <Text visible="{= ${RedemptionStatus}!=='REDEEMABLE' }" text="{path:'RedemptionStatus',formatter:'.formatter.fmtLowerCase2'}" />
                                <Button visible="{= ${RedemptionStatus}==='REDEEMABLE' }" text="{i18n>Redeem}" type="Ghost"  press="onOfferReedeme" />
                                <!-- <Button  text="{i18n>Redeem}" type="Ghost" press="onOfferReedeme" />  -->
                            </items>
                        </HBox>
                        <HBox>
                            <Text text="{parts:['RedemptionStatus','PainterOfferRedemption'],formatter:'.formatter.fmtOfferGiftRedeemed'}" />
                        </HBox>
                    </cells>
                </ColumnListItem>
            </dependents>
        </Table>

    </VBox>
</core:FragmentDefinition>